<!DOCTYPE html>
<html lang="zxx">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/task.css">
	<link rel="icon" href="img/favicon.ico" type="image/x-icon">

	<!--  -->
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
	<script>hljs.highlightAll();</script>
	<!--  -->
	<title>Урок №2. Функції. Масиви. Enums.</title>
</head>

<body>
	<div class="wrapper">
		<header class="header" id="header">
			<div class="header__container">
				<div class="header__logo">
					<img src="img/ts-logo.jpg" alt="логотип компанії TypeScript" class="header__img">
				</div>
			</div>
		</header>
		<main class="page">
			<section class="page__task task">
				<div class="task__container">
					<h1 class="task__title">
						Урок №2. Функції. Масиви. Enums.
					</h1>

					<div class="task__text">
						<ul class="task__list list">
							<li class="list__item">
								<p><strong>Задача 1.</strong> Вводиться перший номер місяця якоїсь пори року (3,6,9,12).
									Визначити пору року. Передбачити перевірку і генерувати
									помилку якщо некоректний місяць (1-12) і генерувати помилку якщо це не перший місяць пори
									року. Використати never.
								</p>
								<details>
									<summary>Переглянути код</summary>
									<pre>
										<code>const seasonTuple:[number,string][]=[[3,'spring'],
										[6,'summer'],
										[9,'fall'],
										[12,'winter'],
										]
										function throwError (message:string):never {
										throw new Error(message);
										}
										//---
										function getSeasonByStartMonth(month:number):string {
										if(month  &lt; 1 || month  &gt; 12)throwError('Некоректний номер місяця')
											const entry=seasonTuple.find(([m])=>m===month)
											if(!entry) throwError('Це не перший місяць пори року')
											return entry[1]
											}
											//---
											const inputMonth= parseInt(prompt('Введіть номер місяця (3,6,9,12):') || '0')
											const displaySeason = document.getElementById('season')
											if(displaySeason) {
											try {
											displaySeason.innerText=`${inputMonth} - ${getSeasonByStartMonth(inputMonth)}`
											} catch (error) {
											displaySeason.innerText=(error as Error).message
											}
											}</code>
									</pre>
								</details>
								<div id="season"></div>
							</li>
							<li class="list__item">
								<p><strong>Задача 2.</strong> Створити функцію, яка дозволяє знайти або останню цифру числа, або
									останній символ числа.
								</p>
								<details>
									<summary>Переглянути код</summary>
									<pre><code>function throwError (message:string):never {
									throw new Error(message);}
									function getLastDigitOrSymbolOfNumber(input:string|number):string {
									if(typeof input === 'number'){
									const lastDigit=Math.abs(input)%10
									return lastDigit.toString()
									}
									if(typeof input==='string'){
									if(input.length===0)return throwError('Рядок порожній')
									return input[input.length-1]
									}
									return throwError('Непідтримуваний тип')
									}
									//---
									console.log(`Задача 2`);
									console.log(`Остання цифра: ${getLastDigitOrSymbolOfNumber(123456)}`);
									console.log(`Останній символ: ${getLastDigitOrSymbolOfNumber('hi')}`);
									// console.log(getLastDigitOrSymbolOfNumber('')); // помилка</code></pre>
								</details>
							</li>
							<li class="list__item">
								<p><strong>Задача 3.</strong> Вводиться номер місяця або назва місяця. Створити функцію, яка повинна повертати номер пори року (1-4) якщо передаємо
								число, або назву пори року, якщо було введено назву місяця. Використати перевантаження функцій.
								</p>
								<details>
									<summary>Переглянути код</summary>
									<pre><code>enum SeasonEnum {
									Winter=1,
									Spring=2,
									Summer=3,
									Fall=4
									}
									//---
									function getSeason(month:number):number
									function getSeason(month:string):string
									function getSeason(month:number | string):number |string {
									const monthNames =[
									'january', 'february', 'march', 'april', 'may', 'june',
									'july', 'august', 'september', 'october', 'november', 'december'
									]
									
									let monthNumber=typeof month ==='string' ? monthNames.indexOf(month.toLowerCase())+1 : month
									
									if (!Number.isFinite(monthNumber) || monthNumber%1!==0 || monthNumber &lt; 1 || monthNumber &gt; 12) {
										throw new Error("Невірний місяць");
										}
										let seasonIndex = Math.floor(((monthNumber%12)/3))%4+1
									
										const seasonResult = typeof month === 'string' ? SeasonEnum[seasonIndex] : seasonIndex
										return seasonResult
										}
										//---
										let input =prompt(`Введіть номер місяця або назву місяця(En)`) ?? ''
										const parsed = parseInt(input)
										const isNumber =!isNaN(parsed)
									
										try {
										const result=isNumber ? getSeason(parsed) : getSeason(input.toLowerCase())
										console.log(`Задача 3`);
										console.log(`${input} - ${result}`);
										} catch (error) {
										console.error((error as Error).message)
										}</code></pre>
								</details>
							</li>
							<li class="list__item">
								<p><strong>Задача 4.</strong> Випадковим чином генерується масив номерів робочих днів, або назв
									вихідних, або назв святкових днів. Підрахувати чого
									було більше: святкових чи вихідних.
								</p>
								<details>
									<summary>Переглянути код</summary>
									<pre><code>type Day = number | string
									
									const weekends =['Субота', 'Неділя']
									const holidays = ['Різдво', 'Новий рік','Великдень','День Незалежності']
									
									function getRandomFromArray(arr:string[]): string {
									return arr[Math.floor(Math.random()*arr.length)]
									}
									//---
									function generateAndCountDays(size:number):[number,number] {
									let weekendCount =0
									let holidayCount=0
									const days: Day[] =[]
									for (let i = 0; i &lt; size; i++) { const type=Math.floor(Math.random()*3) let day:Day if(type===0){
										day=Math.floor(Math.random()*5)+1 }else if(type===1){ day=getRandomFromArray(weekends) weekendCount++ }else{
										day=getRandomFromArray(holidays) holidayCount++ } days.push(day) } return [weekendCount,holidayCount] } //---
										function compareDaysCount(weekendCount:number, holidayCount:number):string { if(weekendCount>holidayCount)
										return `Вихідних днів було більше`
										if(holidayCount>weekendCount)return `Святкових днів днів було більше`
										return `Кількість святкових і вихідних днів однакова`;
										}
										//---
										const [weekendCount,holidayCount]=generateAndCountDays(366)
										const resultOfCompareDays = compareDaysCount(weekendCount, holidayCount)
										console.log(`Задача 4`);
										console.log(`святкових: ${holidayCount}, вихідних: ${weekendCount}, ${resultOfCompareDays}`);</code></pre>
								</details>
							</li>
							<li class="list__item">
								<p><strong>Задача 5.</strong> Дано набір налаштувань (ключ-значення(enabled/disabled)). Вивести ті, які є увімкненими
								</p>
								<details>
									<summary>Переглянути код</summary>
									<pre><code>enum SetOfSettings {
									Enabled = 'enabled',
									Disabled = 'disabled'
									}
									const settings: [string, SetOfSettings][]=[
									["soundEffects", SetOfSettings.Enabled],
									["voiceControl", SetOfSettings.Disabled],
									["saveHistory", SetOfSettings.Enabled],
									["autoUpdate", SetOfSettings.Disabled],
									["emailUpdates", SetOfSettings.Enabled],
									]
									//---
									function getEnabledSettings(pairs:[string, SetOfSettings][]): string[] {
									const result:string[]=[]
									
									for (const [key,value] of pairs) {
									if(value === SetOfSettings.Enabled){
									result.push(key)
									}
									}
									return result
									}
									//---
									console.log(`Задача 5`);
									const enabledKeys = getEnabledSettings(settings)
									console.log(`Увімкнені налаштування: ${enabledKeys.join(', ')}`);</code></pre>
								</details>
							</li>
							<li class="list__item">
								<p><strong>Задача 6.</strong> Дано масив маркерів на карті [lat, long, city]. Визначити
									найближче місто до вказаних координат
								</p>
								<details>
									<summary>Переглянути код</summary>
									<pre><code>type Coordinates = [number,number]
									type Marker = [latitude:number, longitude:number, city:string]
									//---
									function getMarkersList(markersNumber: number): Marker[] {
									const markersList: Marker[] = []
									for (let i = 0; i &lt; markersNumber; i++) { const data=prompt('Введіть координати і назву через пробіл')!.split(' ')
									    markersList.push([Number(data[0]), Number(data[1]), data[2]])
									  }
									  return markersList
									}
									//---
									function getDistance(a:Coordinates, b:Coordinates): number {
										return Math.hypot(a[0]-b[0], a[1]-b[1])
									}
									//---
									function getClosestPlace(userLocation:Coordinates, markers:Marker[]):Marker {
										if(markers.length===0) throw new Error("Маркерів немає");
										
									return markers.reduce((closest, marker)=> getDistance(userLocation,[marker[0],marker[1]]) &lt; getDistance(userLocation,[closest[0],closest[1]]) ? marker : closest)
									
									}
									//---
									   console.log(`Задача 6`);
									// const markers =getMarkersList(3)
									// Дано масив маркерів на карті  [lat, long, city]
									const markers: Marker[]=[
									  [50.45, 30.52, ' Київ'], [49.84, 24.03, 'Львів' ], [48.62, 22.30, 'Ужгород' ] ] const userLocation:
										Coordinates=[50.00,30.00] const closest=getClosestPlace(userLocation, markers) console.log(`Найближче місто до
										(${userLocation[0]}, ${userLocation[1]}): це ${closest[2]} (${closest[0]}, ${closest[1]})`)</code></pre>
								</details>
							</li>
							<li class="list__item">
								<p><strong>Задача 7.</strong> Згенерувати масив нагород (золота, срібна, бронзова медалі та грамота). Підрахувати кількість кожної з нагород.
								Використати enum. Можете і never якось застосувати
								</p>
								<details>
									<summary>Переглянути код</summary>
									<pre><code>enum Award {
									Gold = 'Золото',
									Silver = 'Срібло',
									Bronze = 'Бронза',
									Certificate = 'Грамота',
									}
									type AwardCount = [Award, number]
									const awardList: Award[]=[
									Award.Gold,
									Award.Silver,
									Award.Bronze,
									Award.Certificate
									]
									//---
									function getRandomNumber(minNumber:number, maxNumber:number):number {
									return minNumber + Math.floor(Math.random()*(maxNumber-minNumber+1))
									}
									//---
									function generateAwards(count:number): Award[] {
									const result:Award[]=[]
									for (let i = 0; i &lt; count; i++) { const index=getRandomNumber(0, awardList.length-1) result.push(awardList[index]) }
										return result } //--- function countAwards(awards:Award[]): AwardCount[] { let countOfGold=0 let countOfSilver=0 let
										countOfBronze=0 let countOfCertificate=0 for (const award of awards) { switch (award) { case Award.Gold:
										countOfGold++ break; case Award.Silver: countOfSilver++ break; case Award.Bronze: countOfBronze++ break; case
										Award.Certificate: countOfCertificate++ break; default: const _exCheck:never=award throw new Error(`Невідома
										нагорода: ${_exCheck}`); } } return [ [Award.Gold, countOfGold], [Award.Silver, countOfSilver], [Award.Bronze,
										countOfBronze], [Award.Certificate, countOfCertificate] ] } //--- console.log(`Задача 7`); const
										randomAwards=generateAwards(20) console.log('Згенеровані нагороди:', randomAwards); const
										summary=countAwards(randomAwards) for (const [award, count] of summary) { console.log(`${award}: ${count}`); }</code></pre>
								</details>
							</li>
						</ul>
						<script src="./javascript/lesson2.js"></script>
					</div>
				</div>
			</section>
		</main>
		<footer class="footer">
			<a class="footer__link" href="https://www.typescriptlang.org/">TypeScript</a>
			<a class="footer__link" href="../index.html">На головну сторінку</a>
		</footer>
	</div>

</body>

</html>